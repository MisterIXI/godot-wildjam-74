[gd_scene load_steps=22 format=3 uid="uid://cbgdr3g22ejqs"]

[ext_resource type="PackedScene" path="res://scenes/_debug/oli/debug_menu.tscn" id="1_pv4gp"]
[ext_resource type="PackedScene" uid="uid://5y3y8neopnpa" path="res://scenes/environment/environment.tscn" id="1_yuk8r"]
[ext_resource type="Shader" path="res://scenes/_debug/oli/vhs_shader_test.gdshader" id="2_gts8d"]
[ext_resource type="Shader" path="res://scenes/_debug/oli/crt_shader_test.gdshader" id="3_3dbf5"]
[ext_resource type="PackedScene" uid="uid://c6tip7fbowjjb" path="res://scenes/player/player.tscn" id="3_o03rn"]
[ext_resource type="Script" path="res://scenes/_debug/testbox.gd" id="4_dyppo"]
[ext_resource type="Texture2D" uid="uid://dw3m2u8mvprol" path="res://assets/images/temp/debug_tile.png" id="4_f2ddw"]
[ext_resource type="Shader" path="res://scenes/_debug/oli/grain_shader_test.gdshader" id="4_mbl5c"]
[ext_resource type="PackedScene" uid="uid://6l5oml43sq0d" path="res://scenes/components/interactable.tscn" id="5_wsy6l"]
[ext_resource type="Shader" path="res://scenes/_debug/oli/floyd_shader_test.gdshader" id="5_wxx1g"]
[ext_resource type="PackedScene" uid="uid://dkwq6cws8n33t" path="res://scenes/components/interaction_blocker.tscn" id="6_fj48v"]
[ext_resource type="Shader" path="res://scenes/_debug/oli/bayer_shader_test.gdshader" id="6_pw2n0"]
[ext_resource type="Texture2D" uid="uid://bpgc8g73davi8" path="res://assets/images/lights/circle_light.png" id="9_tw8f7"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gwcqi"]
shader = ExtResource("2_gts8d")
shader_parameter/shake = 0.5
shader_parameter/noiseQuality = 250.0
shader_parameter/noiseIntensity = 0.0
shader_parameter/offsetIntensity = 0.0
shader_parameter/colorOffsetIntensity = 0.3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_j7580"]
shader = ExtResource("3_3dbf5")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gjaqw"]
shader = ExtResource("4_mbl5c")
shader_parameter/strength = 54.42

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vai3r"]
shader = ExtResource("5_wxx1g")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qdenl"]
shader = ExtResource("6_pw2n0")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7pgkp"]
size = Vector2(128, 64)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_lywev"]
a = Vector2(-64, 0)
b = Vector2(64, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vuwtl"]
size = Vector2(144, 20)

[node name="Main" type="Node2D"]

[node name="DebugMenu" parent="." node_paths=PackedStringArray("environment") instance=ExtResource("1_pv4gp")]
environment = NodePath("../Environment")

[node name="ShaderTests" type="Control" parent="DebugMenu"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 2

[node name="VHS" type="ColorRect" parent="DebugMenu/ShaderTests"]
material = SubResource("ShaderMaterial_gwcqi")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="CRT" type="ColorRect" parent="DebugMenu/ShaderTests"]
visible = false
material = SubResource("ShaderMaterial_j7580")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Grain" type="ColorRect" parent="DebugMenu/ShaderTests"]
material = SubResource("ShaderMaterial_gjaqw")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Floyd" type="ColorRect" parent="DebugMenu/ShaderTests"]
visible = false
material = SubResource("ShaderMaterial_vai3r")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Bayer" type="ColorRect" parent="DebugMenu/ShaderTests"]
visible = false
material = SubResource("ShaderMaterial_qdenl")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Environment" parent="." instance=ExtResource("1_yuk8r")]

[node name="YSort" type="Node2D" parent="."]
y_sort_enabled = true

[node name="CharacterBody2D" parent="YSort" instance=ExtResource("3_o03rn")]

[node name="PointLight2D" type="PointLight2D" parent="YSort/CharacterBody2D"]
process_physics_priority = 1
energy = 0.4
shadow_enabled = true
shadow_color = Color(0, 0, 0, 1)
shadow_filter = 2
texture = ExtResource("9_tw8f7")
texture_scale = 3.0

[node name="Testbox" type="StaticBody2D" parent="YSort"]
visible = false
position = Vector2(528, -120)
script = ExtResource("4_dyppo")

[node name="DebugTile" type="Sprite2D" parent="YSort/Testbox"]
texture = ExtResource("4_f2ddw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox"]
position = Vector2(0, 32)
shape = SubResource("RectangleShape2D_7pgkp")

[node name="Interactable" parent="YSort/Testbox" instance=ExtResource("5_wsy6l")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox/Interactable"]
position = Vector2(0, 56)
shape = SubResource("SegmentShape2D_lywev")
debug_color = Color(0.877058, 0.000403528, 0.831181, 0.42)

[node name="InteractionBlocker" parent="YSort/Testbox" instance=ExtResource("6_fj48v")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox/InteractionBlocker"]
shape = SubResource("RectangleShape2D_vuwtl")
debug_color = Color(0.85453, 0.000787612, 0.889131, 0.42)

[node name="Testbox2" type="StaticBody2D" parent="YSort"]
visible = false
position = Vector2(696, -120)
script = ExtResource("4_dyppo")

[node name="DebugTile" type="Sprite2D" parent="YSort/Testbox2"]
texture = ExtResource("4_f2ddw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox2"]
position = Vector2(0, 32)
shape = SubResource("RectangleShape2D_7pgkp")

[node name="Interactable" parent="YSort/Testbox2" instance=ExtResource("5_wsy6l")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox2/Interactable"]
position = Vector2(0, 56)
shape = SubResource("SegmentShape2D_lywev")
debug_color = Color(0.877058, 0.000403528, 0.831181, 0.42)

[node name="InteractionBlocker" parent="YSort/Testbox2" instance=ExtResource("6_fj48v")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox2/InteractionBlocker"]
shape = SubResource("RectangleShape2D_vuwtl")
debug_color = Color(0.85453, 0.000787612, 0.889131, 0.42)
