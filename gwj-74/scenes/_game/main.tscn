[gd_scene load_steps=13 format=3 uid="uid://bayfj2ww07ml3"]

[ext_resource type="Script" path="res://scenes/_game/main.gd" id="1_huino"]
[ext_resource type="PackedScene" uid="uid://dfnd8kxfwy83n" path="res://scenes/environment/environment.tscn" id="1_yuk8r"]
[ext_resource type="PackedScene" uid="uid://c6tip7fbowjjb" path="res://scenes/player/player.tscn" id="3_o03rn"]
[ext_resource type="PackedScene" path="res://scenes/_debug/oli/point_light_2d.tscn" id="4_526yj"]
[ext_resource type="Script" path="res://scenes/_debug/testbox.gd" id="4_dyppo"]
[ext_resource type="Texture2D" uid="uid://dw3m2u8mvprol" path="res://assets/images/temp/debug_tile.png" id="4_f2ddw"]
[ext_resource type="PackedScene" uid="uid://6l5oml43sq0d" path="res://scenes/components/interactable.tscn" id="5_wsy6l"]
[ext_resource type="PackedScene" uid="uid://dkwq6cws8n33t" path="res://scenes/components/interaction_blocker.tscn" id="6_fj48v"]
[ext_resource type="PackedScene" uid="uid://doh5gjxn33303" path="res://scenes/components/cutscene_trigger.tscn" id="8_bjww6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7pgkp"]
size = Vector2(128, 64)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_lywev"]
a = Vector2(-64, 0)
b = Vector2(64, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vuwtl"]
size = Vector2(144, 20)

[node name="Main" type="Node2D"]
script = ExtResource("1_huino")

[node name="Environment" parent="." instance=ExtResource("1_yuk8r")]

[node name="YSort" type="Node2D" parent="."]
y_sort_enabled = true

[node name="player" parent="YSort" instance=ExtResource("3_o03rn")]
speed = 225.0

[node name="PointLight2D" parent="YSort/player" instance=ExtResource("4_526yj")]
process_physics_priority = 1
shadow_filter = 2

[node name="Testbox" type="StaticBody2D" parent="YSort"]
position = Vector2(528, -120)
script = ExtResource("4_dyppo")

[node name="DebugTile" type="Sprite2D" parent="YSort/Testbox"]
texture = ExtResource("4_f2ddw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox"]
position = Vector2(0, 32)
shape = SubResource("RectangleShape2D_7pgkp")

[node name="Interactable" parent="YSort/Testbox" instance=ExtResource("5_wsy6l")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox/Interactable"]
position = Vector2(0, 56)
shape = SubResource("SegmentShape2D_lywev")
debug_color = Color(0.877058, 0.000403528, 0.831181, 0.42)

[node name="InteractionBlocker" parent="YSort/Testbox" instance=ExtResource("6_fj48v")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox/InteractionBlocker"]
shape = SubResource("RectangleShape2D_vuwtl")
debug_color = Color(0.85453, 0.000787612, 0.889131, 0.42)

[node name="Testbox2" type="StaticBody2D" parent="YSort"]
position = Vector2(696, -120)
script = ExtResource("4_dyppo")

[node name="DebugTile" type="Sprite2D" parent="YSort/Testbox2"]
texture = ExtResource("4_f2ddw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox2"]
position = Vector2(0, 32)
shape = SubResource("RectangleShape2D_7pgkp")

[node name="Interactable" parent="YSort/Testbox2" instance=ExtResource("5_wsy6l")]
dialogue_start = "testbox"

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox2/Interactable"]
position = Vector2(0, 56)
shape = SubResource("SegmentShape2D_lywev")
debug_color = Color(0.877058, 0.000403528, 0.831181, 0.42)

[node name="InteractionBlocker" parent="YSort/Testbox2" instance=ExtResource("6_fj48v")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Testbox2/InteractionBlocker"]
shape = SubResource("RectangleShape2D_vuwtl")
debug_color = Color(0.85453, 0.000787612, 0.889131, 0.42)

[node name="CutSceneTrigger" parent="." instance=ExtResource("8_bjww6")]
dialogue_start = "testanim"
